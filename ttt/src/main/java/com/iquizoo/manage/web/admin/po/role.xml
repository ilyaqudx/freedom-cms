<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--Auto Create,Don't Modify,you should copy some sql config,because only have insert,update,full query and delete by primaryKey
	@Author JiangZhiYong	@date 2015年4月21日 11:28:58-->
	
<mapper namespace="Role">

	<select id="getRoleList"  resultType="Role" parameterType="Map">
		SELECT * FROM Role
		limit #{start},#{length}
	</select>

	<select id="getRoleListCount"  resultType="Integer" parameterType="Map">
		SELECT count(*) FROM Role
	</select>

	<select id="getRole" parameterType="Integer" resultType="Role">
		SELECT * FROM Role WHERE id=#{id}
	</select>

	<select id="getAllRole" resultType="Role">
		SELECT * FROM Role
	</select>

	<insert id="addRole" parameterType="Role">
		<selectKey keyColumn="id" keyProperty="id" resultType="Integer">
			SELECT LAST_INSERT_ID()
		</selectKey>
		INSERT INTO Role(
		id
		<if test="name != null">
			,name
		</if>
		<if test="type != null">
			,type
		</if>
		<if test="createTime != null">
			,createTime
		</if>
		<if test="updateTime != null">
			,updateTime
		</if>
		<if test="description != null">
			,description
		</if>
		)VALUES(
		#{id}
		<if test="name != null">
			,#{name}
		</if>
		<if test="type != null">
			,#{type}
		</if>
		<if test="createTime != null">
			,#{createTime}
		</if>
		<if test="updateTime != null">
			,#{updateTime}
		</if>
		<if test="description != null">
			,#{description}
		</if>
		)
	</insert>

	<update id="updateRole" parameterType="Role">
		UPDATE Role
		SET 
		id = #{id}
		<if test="name != null">
			,name = #{name}
		</if>
		<if test="type != null">
			,type = #{type}
		</if>
		<if test="createTime != null">
			,createTime = #{createTime}
		</if>
		<if test="updateTime != null">
			,updateTime = #{updateTime}
		</if>
		<if test="description != null">
			,description = #{description}
		</if>
		WHERE 
		id=#{id}
		
	</update>

	<delete id="deleteRole" parameterType="Integer">
	    DELETE FROM Role 
		WHERE 
		id=#{id}
	</delete>

</mapper>