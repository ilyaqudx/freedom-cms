<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--Auto Create,Don't Modify,you should copy some sql config,because only have insert,update,full query and delete by primaryKey
	@Author JiangZhiYong	@date 2015年4月21日 11:28:58-->
	
<mapper namespace="Systemlog">

	<select id="getSystemlogList"  resultType="Systemlog" parameterType="Map">
		SELECT a.*,b.name FROM Systemlog a left join Admin b on a.adminId=b.id
		<if test="order != null">
			order by a.${order}
		</if>
		limit #{start},#{length}
	</select>

	<select id="getSystemlogListCount" parameterType="Map" resultType="Integer">
		SELECT count(*) FROM Systemlog
	</select>

	<insert id="addSystemlog" parameterType="Systemlog">
		INSERT INTO Systemlog(
		id
		<if test="adminId != null">
			,adminId
		</if>
		<if test="message != null">
			,message
		</if>
		<if test="createTime != null">
			,createTime
		</if>
		)VALUES(
		#{id}
		<if test="adminId != null">
			,#{adminId}
		</if>
		<if test="message != null">
			,#{message}
		</if>
		<if test="createTime != null">
			,#{createTime}
		</if>
		)
	</insert>

	<update id="updateSystemlog" parameterType="Systemlog">
		UPDATE Systemlog
		SET 
		id = #{id}
		<if test="adminId != null">
			,adminId = #{adminId}
		</if>
		<if test="message != null">
			,message = #{message}
		</if>
		<if test="createTime != null">
			,createTime = #{createTime}
		</if>
		WHERE 
		id=#{id}
		
	</update>

	<delete id="deleteSystemlogByKey" parameterType="Systemlog">
	    DELETE FROM Systemlog 
		WHERE 
		id=#{id}
	</delete>

</mapper>