<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--Auto Create,Don't Modify,you should copy some sql config,because only have insert,update,full query and delete by primaryKey
	@Author JiangZhiYong	@date 2015年4月21日 11:28:58-->
	
<mapper namespace="Account">

   <select id="getIdByPhone" parameterType="String" resultType="Account">
      SELECT * FROM Account WHERE phone = #{phone}
   </select>
   <select id="getPhoneById" parameterType="int" resultType="String">
      SELECT phone FROM Account WHERE id = #{id}
   </select>
   <select id="getList" parameterType="Map" resultType="Account">
		SELECT * FROM Account WHERE 1=1
		<if test="type == 1">
			and phone is not null and phone != 0
		</if>
		<if test="type == 2">
			and phone is null
		</if>
		<if test="phone != null">
			and phone = #{phone}
		</if>
		<if test="datemin != null">
			and createTime>=#{datemin}
		</if>
		<if test="datemax != null">
			and #{datemax}>=createTime
		</if>
		limit #{start},#{length}
	</select>
	
	<select id="getListCount" parameterType="Map" resultType="Integer">
		SELECT count(*) FROM Account WHERE 1 = 1
		<if test="type == 1">
			and phone is not null and phone != 0
		</if>
		<if test="type == 2">
			and phone is null 
		</if>
		<if test="phone != null">
			and phone = #{phone}
		</if>
		<if test="datemin != null">
			and createTime>#{datemin}
		</if>
		<if test="datemax != null">
			and #{datemax}>createTime
		</if>
	</select>
   

</mapper>